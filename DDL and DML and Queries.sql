-- creating tables and adding their primary keys
CREATE TABLE building (
    building_id        VARCHAR2(6 CHAR) NOT NULL,
    building_name      VARCHAR2(40 CHAR),
    building_location  VARCHAR2(4000)
);

ALTER TABLE building ADD CONSTRAINT building_pk PRIMARY KEY ( building_id );

CREATE TABLE classes (
    class_id       VARCHAR2(8 CHAR) NOT NULL,
    course_id      VARCHAR2(7 CHAR),
    inst_id        VARCHAR2(6),
    room_id        VARCHAR2(8 CHAR),
    semester_id    VARCHAR2(8 CHAR),
    class_website  VARCHAR2(4000)
);

ALTER TABLE classes ADD CONSTRAINT class_pk PRIMARY KEY ( class_id );

CREATE TABLE course (
    course_id           VARCHAR2(7 CHAR) NOT NULL,
    dept_id             VARCHAR2(5 CHAR),
    course_name         VARCHAR2(20 CHAR),
    course_description  VARCHAR2(4000),
    course_credits      NUMBER(2, 1)
);

ALTER TABLE course ADD CONSTRAINT course_pk PRIMARY KEY ( course_id );

CREATE TABLE degrees (
    degree_id    VARCHAR2(8 CHAR) NOT NULL,
    degree_name  VARCHAR2(20 CHAR)
);

ALTER TABLE degrees ADD CONSTRAINT degree_pk PRIMARY KEY ( degree_id );

CREATE TABLE department (
    dept_id     VARCHAR2(5 CHAR) NOT NULL,
    inst_id     VARCHAR2(6),
    room_id     VARCHAR2(8 CHAR),
    dept_name   VARCHAR2(30 CHAR),
    dept_phone  VARCHAR2(12 CHAR),
    dept_email  VARCHAR2(20 CHAR)
);

CREATE UNIQUE INDEX department__idx ON
    department (
        inst_id
    ASC );

ALTER TABLE department ADD CONSTRAINT department_pk PRIMARY KEY ( dept_id );

CREATE TABLE enroll (
    stud_id     VARCHAR2(7 CHAR) NOT NULL,
    class_id    VARCHAR2(8 CHAR) NOT NULL,
    stud_grade  VARCHAR2(1 CHAR)
);

ALTER TABLE enroll ADD CONSTRAINT enroll_pk PRIMARY KEY ( stud_id,
                                                          class_id );

CREATE TABLE instructor (
    inst_id      VARCHAR2(6) NOT NULL,
    dept_id      VARCHAR2(5 CHAR),
    room_id      VARCHAR2(8 CHAR),
    inst_fname   VARCHAR2(20 CHAR),
    inst_lname   VARCHAR2(20 CHAR),
    inst_email   VARCHAR2(40 CHAR),
    inst_social  VARCHAR2(11 CHAR),
    inst_phone   VARCHAR2(12 CHAR),
    inst_dob     DATE,
    inst_salary  NUMBER(9, 2)
);


ALTER TABLE instructor ADD CONSTRAINT instructor_pk PRIMARY KEY ( inst_id );

CREATE TABLE major (
    major_id    VARCHAR2(8 CHAR) NOT NULL,
    dept_id     VARCHAR2(5 CHAR),
    major_name  VARCHAR2(40 CHAR)
);

ALTER TABLE major ADD CONSTRAINT major_pk PRIMARY KEY ( major_id );

CREATE TABLE room (
    room_id      VARCHAR2(8 CHAR) NOT NULL,
    building_id  VARCHAR2(6 CHAR) NOT NULL
);

ALTER TABLE room ADD CONSTRAINT room_pk PRIMARY KEY ( room_id );

CREATE TABLE semester (
    semester_id          VARCHAR2(8 CHAR) NOT NULL,
    semester_name        VARCHAR2(7 CHAR),
    semester_start_date  DATE
);

ALTER TABLE semester ADD CONSTRAINT semester_pk PRIMARY KEY ( semester_id );

CREATE TABLE student (
    stud_id              VARCHAR2(7 CHAR) NOT NULL,
    dept_id              VARCHAR2(5 CHAR),
    stud_fname           VARCHAR2(20 CHAR),
    stud_lname           VARCHAR2(25 CHAR),
    stud_social          VARCHAR2(11 CHAR),
    stud_dob             DATE,
    stud_street_address  VARCHAR2(30 CHAR),
    stud_city            VARCHAR2(30 CHAR),
    stud_state           VARCHAR2(2 CHAR),
    stud_zip             VARCHAR2(10 CHAR),
    stud_email           VARCHAR2(40 CHAR),
    stud_phone           VARCHAR2(12 CHAR)
);

ALTER TABLE student ADD CONSTRAINT student_pk PRIMARY KEY ( stud_id );

CREATE TABLE student_deg_major (
    stud_id       VARCHAR2(7 CHAR) NOT NULL,
    degree_id     VARCHAR2(8 CHAR) NOT NULL,
    major_id      VARCHAR2(8 CHAR) NOT NULL,
    declare_date  DATE
);

ALTER TABLE student_deg_major
    ADD CONSTRAINT student_deg_major_pk PRIMARY KEY ( stud_id,
                                                      degree_id,
                                                      major_id );

-- now that all tables are added, I can add the foreign keys
ALTER TABLE classes
    ADD CONSTRAINT class_course_fk FOREIGN KEY ( course_id )
        REFERENCES course ( course_id );

ALTER TABLE classes
    ADD CONSTRAINT class_instructor_fk FOREIGN KEY ( inst_id )
        REFERENCES instructor ( inst_id );

ALTER TABLE classes
    ADD CONSTRAINT class_room_fk FOREIGN KEY ( room_id )
        REFERENCES room ( room_id );

ALTER TABLE classes
    ADD CONSTRAINT class_semester_fk FOREIGN KEY ( semester_id )
        REFERENCES semester ( semester_id );

ALTER TABLE course
    ADD CONSTRAINT course_department_fk FOREIGN KEY ( dept_id )
        REFERENCES department ( dept_id );

ALTER TABLE department
    ADD CONSTRAINT department_instructor_fk FOREIGN KEY ( inst_id )
        REFERENCES instructor ( inst_id );

ALTER TABLE department
    ADD CONSTRAINT department_room_fk FOREIGN KEY ( room_id )
        REFERENCES room ( room_id );

ALTER TABLE enroll
    ADD CONSTRAINT enroll_class_fk FOREIGN KEY ( class_id )
        REFERENCES classes ( class_id );

ALTER TABLE enroll
    ADD CONSTRAINT enroll_student_fk FOREIGN KEY ( stud_id )
        REFERENCES student ( stud_id );

ALTER TABLE instructor
    ADD CONSTRAINT instructor_department_fk FOREIGN KEY ( dept_id )
        REFERENCES department ( dept_id );

ALTER TABLE instructor
    ADD CONSTRAINT instructor_room_fk FOREIGN KEY ( room_id )
        REFERENCES room ( room_id );

ALTER TABLE major
    ADD CONSTRAINT major_department_fk FOREIGN KEY ( dept_id )
        REFERENCES department ( dept_id );

ALTER TABLE room
    ADD CONSTRAINT room_building_fk FOREIGN KEY ( building_id )
        REFERENCES building ( building_id );

ALTER TABLE student_deg_major
    ADD CONSTRAINT student_deg_major_degree_fk FOREIGN KEY ( degree_id )
        REFERENCES degrees ( degree_id );

ALTER TABLE student_deg_major
    ADD CONSTRAINT student_deg_major_major_fk FOREIGN KEY ( major_id )
        REFERENCES major ( major_id );

ALTER TABLE student_deg_major
    ADD CONSTRAINT student_deg_major_student_fk FOREIGN KEY ( stud_id )
        REFERENCES student ( stud_id );

ALTER TABLE student
    ADD CONSTRAINT student_department_fk FOREIGN KEY ( dept_id )
        REFERENCES department ( dept_id );

-- now we add in the data
-- I will add data to the tables with no foreign keys first

-- SEMESTER

INSERT INTO SEMESTER
	VALUES ('87016831','Summer','');
INSERT INTO SEMESTER
	VALUES ('20813867','Winter','');
INSERT INTO SEMESTER
	VALUES ('75100245','Fall','');
INSERT INTO SEMESTER
	VALUES ('45114241','Winter','');
INSERT INTO SEMESTER
	VALUES ('14942265','Winter','');
INSERT INTO SEMESTER
	VALUES ('10060628','Spring','');
INSERT INTO SEMESTER
	VALUES ('29539150','Fall','');
INSERT INTO SEMESTER
	VALUES ('98962001','Spring','');
INSERT INTO SEMESTER
	VALUES ('88716606','Winter','');
INSERT INTO SEMESTER
	VALUES ('73116457','Summer','');
INSERT INTO SEMESTER
	VALUES ('60084737','Fall','');
INSERT INTO SEMESTER
	VALUES ('52867218','Summer','');
INSERT INTO SEMESTER
	VALUES ('12937999','Summer','');
INSERT INTO SEMESTER
	VALUES ('46600917','Spring','');
INSERT INTO SEMESTER
	VALUES ('75611164','Fall','');

-- check 
SELECT * FROM SEMESTER;

-- BUILDING

INSERT INTO BUILDING 
	VALUES ('347514','Kevin Johnson Hall','North Campus');
INSERT INTO BUILDING 
	VALUES ('418031','Edward Brown Hall','South Campus');
INSERT INTO BUILDING 
	VALUES ('208177','Sydney Smith Hall','North Campus');
INSERT INTO BUILDING 
	VALUES ('856250','Mitchell Gentile Hall','West Campus');
INSERT INTO BUILDING 
	VALUES ('515297','Daniel Brown Hall','North Campus');
INSERT INTO BUILDING 
	VALUES ('602140','Sydney Williams Hall','South Campus');
INSERT INTO BUILDING 
	VALUES ('262500','Carlos Palacios Hall','North Campus');
INSERT INTO BUILDING 
	VALUES ('194476','Edward Palacios Hall','North Campus');
INSERT INTO BUILDING 
	VALUES ('169746','Ashley Nolasco Hall','West Campus');
    
-- CHECK

SELECT * FROM BUILDING;

-- DEGREES

INSERT INTO DEGREES
	VALUES ('38048866','Bachelor of Arts');
INSERT INTO DEGREES
	VALUES ('11564266','Bachelor of Science');
INSERT INTO DEGREES
	VALUES ('79969969','Master of Arts');
INSERT INTO DEGREES
	VALUES ('14855520','Master of Science');
    
-- check
SELECT * FROM DEGREES;


-- Next, the tables that reference the previous tables only

-- room

INSERT INTO ROOM
	VALUES ('53464097','856250');
INSERT INTO ROOM
	VALUES ('30246633','602140');
INSERT INTO ROOM
	VALUES ('62992312','262500');
INSERT INTO ROOM
	VALUES ('97366946','208177');
INSERT INTO ROOM
	VALUES ('16480894','856250');
INSERT INTO ROOM
	VALUES ('19722233','347514');
INSERT INTO ROOM
	VALUES ('81924865','418031');
INSERT INTO ROOM
	VALUES ('22633920','208177');
INSERT INTO ROOM
	VALUES ('59081935','856250');
INSERT INTO ROOM
	VALUES ('88220482','169746');
INSERT INTO ROOM
	VALUES ('17784483','856250');
INSERT INTO ROOM
	VALUES ('78106871','262500');
INSERT INTO ROOM
	VALUES ('38816302','347514');
INSERT INTO ROOM
	VALUES ('15032582','194476');
INSERT INTO ROOM
	VALUES ('21535642','194476');
INSERT INTO ROOM
	VALUES ('68202938','194476');
INSERT INTO ROOM
	VALUES ('66126116','262500');
INSERT INTO ROOM
	VALUES ('19375836','194476');
INSERT INTO ROOM
	VALUES ('42301241','856250');
INSERT INTO ROOM
	VALUES ('22175294','262500');
INSERT INTO ROOM
	VALUES ('83960310','418031');
INSERT INTO ROOM
	VALUES ('66978001','194476');
INSERT INTO ROOM
	VALUES ('17933677','856250');
INSERT INTO ROOM
	VALUES ('85893910','347514');
INSERT INTO ROOM
	VALUES ('26616417','515297');
INSERT INTO ROOM
	VALUES ('39962626','169746');
INSERT INTO ROOM
	VALUES ('94641177','262500');
INSERT INTO ROOM
	VALUES ('94212661','194476');
INSERT INTO ROOM
	VALUES ('88248519','262500');
INSERT INTO ROOM
	VALUES ('18302983','418031');
INSERT INTO ROOM
	VALUES ('87457446','515297');
INSERT INTO ROOM
	VALUES ('88590039','418031');
INSERT INTO ROOM
	VALUES ('63241552','418031');
INSERT INTO ROOM
	VALUES ('16655764','262500');
INSERT INTO ROOM
	VALUES ('39673100','262500');
INSERT INTO ROOM
	VALUES ('16252221','418031');
INSERT INTO ROOM
	VALUES ('84714297','347514');
INSERT INTO ROOM
	VALUES ('27874421','602140');
INSERT INTO ROOM
	VALUES ('48870700','856250');
INSERT INTO ROOM
	VALUES ('66255890','418031');
INSERT INTO ROOM
	VALUES ('29361589','194476');
INSERT INTO ROOM
	VALUES ('82569631','169746');
INSERT INTO ROOM
	VALUES ('25809806','856250');
INSERT INTO ROOM
	VALUES ('86626738','208177');
INSERT INTO ROOM
	VALUES ('51403729','418031');
INSERT INTO ROOM
	VALUES ('85196458','169746');
INSERT INTO ROOM
	VALUES ('34256684','347514');
INSERT INTO ROOM
	VALUES ('23831903','194476');
INSERT INTO ROOM
	VALUES ('88061052','856250');
INSERT INTO ROOM
	VALUES ('86665755','208177');
    
-- CHECK

SELECT * FROM ROOM;

-- DEPARTMENT NEXT
-- department references instructor, so I will add the instructor pk first

INSERT INTO INSTRUCTOR (INST_ID)
	VALUES ('319131');
INSERT INTO INSTRUCTOR (INST_ID)
	VALUES ('112220');
INSERT INTO INSTRUCTOR (INST_ID)
	VALUES ('646640');
INSERT INTO INSTRUCTOR (INST_ID)
	VALUES ('871743');
INSERT INTO INSTRUCTOR (INST_ID)
	VALUES ('137933');
INSERT INTO INSTRUCTOR (INST_ID)
	VALUES ('265688');
INSERT INTO INSTRUCTOR (INST_ID)
	VALUES ('350557');
INSERT INTO INSTRUCTOR (INST_ID)
	VALUES ('117700');
INSERT INTO INSTRUCTOR (INST_ID)
	VALUES ('157617');
INSERT INTO INSTRUCTOR (INST_ID)
	VALUES ('943971');
INSERT INTO INSTRUCTOR (INST_ID)
	VALUES ('814447');
INSERT INTO INSTRUCTOR (INST_ID)
	VALUES ('254401');
INSERT INTO INSTRUCTOR (INST_ID)
	VALUES ('998988');
INSERT INTO INSTRUCTOR (INST_ID)
	VALUES ('828526');

SELECT * FROM INSTRUCTOR;

-- now for department
--first, make the column for email wider


ALTER TABLE DEPARTMENT
    MODIFY DEPT_EMAIL VARCHAR(40);

INSERT INTO DEPARTMENT
	VALUES ('22302','319131','53464097','Mathematics','563-986-8629','mathematics@cabrini.edu');
INSERT INTO DEPARTMENT
	VALUES ('73944','112220','30246633','Biology','562-620-4111','biology@cabrini.edu');
INSERT INTO DEPARTMENT
	VALUES ('13715','646640','62992312','Chemistry','289-923-9387','chemistry@cabrini.edu');
INSERT INTO DEPARTMENT
	VALUES ('61093','871743','97366946','Physics','587-744-4050','physics@cabrini.edu');
INSERT INTO DEPARTMENT
	VALUES ('66723','137933','16480894','Humanities','196-557-5970','humanities@cabrini.edu');
INSERT INTO DEPARTMENT
	VALUES ('89618','265688','19722233','Arts','245-192-9825','arts@cabrini.edu');
INSERT INTO DEPARTMENT
	VALUES ('10276','350557','81924865','Philosophy','929-810-1686','philosophy@cabrini.edu');
INSERT INTO DEPARTMENT
	VALUES ('68377','117700','22633920','Astronomy','709-505-8421','astronomy@cabrini.edu');
INSERT INTO DEPARTMENT
	VALUES ('44908','157617','59081935','Sociology','769-856-3580','sociology@cabrini.edu');
    
-- CHECK

SELECT * FROM DEPARTMENT;

-- Now instructor, it already has it's primary keys, so I just need to update it.

UPDATE INSTRUCTOR
SET DEPT_ID = '22302', ROOM_ID = '88220482', INST_FNAME = 'Harold', INST_LNAME = 'Garcia', INST_EMAIL = 'hgarcia@cabrini.edu', INST_SOCIAL = '585-44-9669', INST_PHONE = '365-397-4042',INST_DOB = '4-oct-83', INST_SALARY = '76793'
WHERE INST_ID = '319131';
UPDATE INSTRUCTOR
SET DEPT_ID = '73944', ROOM_ID = '17784483', INST_FNAME = 'Maria', INST_LNAME = 'Jones', INST_EMAIL = 'mjones@cabrini.edu', INST_SOCIAL = '782-54-3336', INST_PHONE = '767-336-3411',INST_DOB = '8-may-66', INST_SALARY = '100053'
WHERE INST_ID = '112220';
UPDATE INSTRUCTOR
SET DEPT_ID = '13715', ROOM_ID = '78106871', INST_FNAME = 'Rose', INST_LNAME = 'Miller', INST_EMAIL = 'rMiller@cabrini.edu', INST_SOCIAL = '490-11-7139', INST_PHONE = '990-330-4069',INST_DOB = '10-dec-54', INST_SALARY = '102910'
WHERE INST_ID = '646640';
UPDATE INSTRUCTOR
SET DEPT_ID = '61093', ROOM_ID = '38816302', INST_FNAME = 'Steven', INST_LNAME = 'Davis', INST_EMAIL = 'sDavis@cabrini.edu', INST_SOCIAL = '594-45-8540', INST_PHONE = '233-172-9705',INST_DOB = '22-aug-69', INST_SALARY = '126452'
WHERE INST_ID = '871743';
UPDATE INSTRUCTOR
SET DEPT_ID = '66723', ROOM_ID = '15032582', INST_FNAME = 'Danielle', INST_LNAME = 'Rodriguez', INST_EMAIL = 'dRodriguez@cabrini.edu', INST_SOCIAL = '807-86-4729', INST_PHONE = '966-319-5827',INST_DOB = '15-nov-75', INST_SALARY = '107494'
WHERE INST_ID = '137933';
UPDATE INSTRUCTOR
SET DEPT_ID = '89618', ROOM_ID = '21535642', INST_FNAME = 'Marcus', INST_LNAME = 'Martinez', INST_EMAIL = 'mMartinez@cabrini.edu', INST_SOCIAL = '671-10-3380', INST_PHONE = '130-541-3069',INST_DOB = '13-feb-66', INST_SALARY = '129630'
WHERE INST_ID = '265688';
UPDATE INSTRUCTOR
SET DEPT_ID = '10276', ROOM_ID = '68202938', INST_FNAME = 'John', INST_LNAME = 'Palacios', INST_EMAIL = 'jpalacios@cabrini.edu', INST_SOCIAL = '550-57-3658', INST_PHONE = '957-800-1236',INST_DOB = '8-june-72', INST_SALARY = '62372'
WHERE INST_ID = '350557';
UPDATE INSTRUCTOR
SET DEPT_ID = '68377', ROOM_ID = '66126116', INST_FNAME = 'Ester', INST_LNAME = 'Nolasco', INST_EMAIL = 'enolasco@cabrini.edu', INST_SOCIAL = '447-36-1963', INST_PHONE = '382-954-3403',INST_DOB = '26-may-73', INST_SALARY = '133999'
WHERE INST_ID = '117700';
UPDATE INSTRUCTOR
SET DEPT_ID = '44908', ROOM_ID = '19375836', INST_FNAME = 'Barry', INST_LNAME = 'Johnson', INST_EMAIL = 'bjohnson@cabrini.edu', INST_SOCIAL = '690-35-2222', INST_PHONE = '186-992-5299',INST_DOB = '26-nov-83', INST_SALARY = '140031'
WHERE INST_ID = '157617';
UPDATE INSTRUCTOR
SET DEPT_ID = '89618', ROOM_ID = '42301241', INST_FNAME = 'Julien', INST_LNAME = 'Williams', INST_EMAIL = 'jwilliams@cabrini.edu', INST_SOCIAL = '625-97-6521', INST_PHONE = '946-561-8155',INST_DOB = '5-mar-85', INST_SALARY = '64618'
WHERE INST_ID = '943971';
UPDATE INSTRUCTOR
SET DEPT_ID = '13715', ROOM_ID = '22175294', INST_FNAME = 'Rod', INST_LNAME = 'Brown', INST_EMAIL = 'rbrown@cabrini.edu', INST_SOCIAL = '797-61-2431', INST_PHONE = '242-912-5205',INST_DOB = '22-nov-67', INST_SALARY = '125861'
WHERE INST_ID = '814447';
UPDATE INSTRUCTOR
SET DEPT_ID = '73944', ROOM_ID = '83960310', INST_FNAME = 'Laura', INST_LNAME = 'Wilson', INST_EMAIL = 'lwilson@cabrini.edu', INST_SOCIAL = '119-17-9338', INST_PHONE = '464-970-4834',INST_DOB = '6-jan-54', INST_SALARY = '127212'
WHERE INST_ID = '254401';
UPDATE INSTRUCTOR
SET DEPT_ID = '68377', ROOM_ID = '66978001', INST_FNAME = 'Christina', INST_LNAME = 'Bryans', INST_EMAIL = 'cbryans@cabrini.edu', INST_SOCIAL = '328-21-7943', INST_PHONE = '598-873-8038',INST_DOB = '4-oct-71', INST_SALARY = '133547'
WHERE INST_ID = '998988';
UPDATE INSTRUCTOR
SET DEPT_ID = '44908', ROOM_ID = '17933677', INST_FNAME = 'Jacqueline', INST_LNAME = 'Atzberger', INST_EMAIL = 'jatzberger@cabrini.edu', INST_SOCIAL = '554-24-7933', INST_PHONE = '786-472-8042',INST_DOB = '1-feb-67', INST_SALARY = '133064'
WHERE INST_ID = '828526';

-- check
SELECT * FROM INSTRUCTOR;

-- STUDENT

INSERT INTO STUDENT 
	VALUES ('3254257','66723','Edward','Smith','838-39-2674','1-july-98','249 Adams Blvd','Huntington','CO','39745-1201','esmith@yahoo.com','616-523-8945');
INSERT INTO STUDENT 
	VALUES ('2058756','10276','Carlos','Gentile','425-13-1365','29-dec-98','425 Ingelwood Blvd','Goleta','CA','90584-7448','cgentile@yahoo.com','569-714-1458');
INSERT INTO STUDENT 
	VALUES ('5279348','66723','Mitchell','Mora','126-93-9870','19-jan-97','376 Hawthorne Blvd','Hermosa Beach','TN','81871-4803','mmora@outlook.com','663-698-3961');
INSERT INTO STUDENT 
	VALUES ('2978347','10276','Sydney','Palacios','109-58-4548','1-july-98','904 Alabama Blvd','Hawthorne','AR','81871-4803','spalacios@yahoo.com','653-738-6425');
INSERT INTO STUDENT 
	VALUES ('9312021','61093','Kevin','Nolasco','532-13-9644','10-may-97','89 Beach Blvd','Santa Monica','MA','63012-9417','knolasco@cabrini.edu','616-523-8945');
INSERT INTO STUDENT 
	VALUES ('8541208','13715','Daniel','Johnson','327-66-9123','4-dec-95','680 Hawthorne Blvd','Hawthorne','MA','39745-1201','djohnson@outlook.com','616-523-8945');
INSERT INTO STUDENT 
	VALUES ('8922960','13715','Ashley','Williams','666-39-6663','19-jan-97','111 Ingelwood Blvd','Santa Monica','AR','63012-9417','awilliams@google.com','663-698-3961');
INSERT INTO STUDENT 
	VALUES ('7368886','89618','Richard','Brown','336-96-4584','28-sep-96','534 Adams Blvd','Compton','TN','39745-1201','rbrown@google.com','653-738-6425');

-- check

SELECT * FROM STUDENT;

-- COURSE

-- first I make the column of the name wider

ALTER TABLE COURSE
    MODIFY COURSE_NAME VARCHAR(50);

INSERT INTO COURSE
	VALUES ('1725678','13715','Advanced Linear Algebra','This course is Advanced Linear Algebra.','3');
INSERT INTO COURSE
	VALUES ('9731973','73944','Intro To Differential Equations','This course is Intro To Differential Equations.','3');
INSERT INTO COURSE
	VALUES ('3024816','13715','Advanced Database Management','This course is Advanced Database Management.','2');
INSERT INTO COURSE
	VALUES ('9581406','10276','Advanced Statistics','This course is Advanced Statistics.','3');
INSERT INTO COURSE
	VALUES ('4347009','73944','Advanced Probability','This course is Advanced Probability.','2');
INSERT INTO COURSE
	VALUES ('7602416','13715','Advanced Machine Learning','This course is Advanced Machine Learning.','3');
INSERT INTO COURSE
	VALUES ('6824526','68377','Intro To Python','This course is Intro To Python.','3');
INSERT INTO COURSE
	VALUES ('9878484','10276','Advanced R','This course is Advanced R.','2');
INSERT INTO COURSE
	VALUES ('5854738','61093','Advanced Sociology','This course is Advanced Sociology.','3');
INSERT INTO COURSE
	VALUES ('3487386','89618','Intro To Philosophy','This course is Intro To Philosophy.','3');
    
-- check 

SELECT * FROM COURSE;

--Class

INSERT INTO CLASSES
	VALUES('32139144','1725678','319131','85893910','88716606','advancedlinearalgebra.cabrini.edu');
INSERT INTO CLASSES
	VALUES('66102158','9731973','112220','26616417','88716606','introtodifferentialequations.cabrini.edu');
INSERT INTO CLASSES
	VALUES('66107047','3024816','646640','39962626','45114241','advanceddatabasemanagement.cabrini.edu');
INSERT INTO CLASSES
	VALUES('95228249','9581406','871743','94641177','12937999','advancedstatistics.cabrini.edu');
INSERT INTO CLASSES
	VALUES('47749676','4347009','137933','94212661','87016831','advancedprobability.cabrini.edu');
INSERT INTO CLASSES
	VALUES('74303776','7602416','265688','88248519','87016831','advancedmachinelearning.cabrini.edu');
INSERT INTO CLASSES
	VALUES('38992954','6824526','350557','18302983','10060628','introtopython.cabrini.edu');
INSERT INTO CLASSES
	VALUES('73706075','9878484','117700','87457446','75611164','advancedr.cabrini.edu');
INSERT INTO CLASSES
	VALUES('78780712','5854738','157617','88590039','73116457','advancedsociology.cabrini.edu');
INSERT INTO CLASSES
	VALUES('34639864','3487386','943971','63241552','29539150','introtophilosophy.cabrini.edu');

--CHECK

SELECT * FROM CLASSES;

-- MAJOR

INSERT INTO MAJOR
	VALUES ('59452071','22302','Mechanical Engineering');
INSERT INTO MAJOR
	VALUES ('13117093','68377','Applied Mathematics');
INSERT INTO MAJOR
	VALUES ('30778656','61093','Data Science');
INSERT INTO MAJOR
	VALUES ('21873423','73944','Computer Science');
INSERT INTO MAJOR
	VALUES ('26760720','61093','Psycology');
INSERT INTO MAJOR
	VALUES ('12623891','61093','Business');
INSERT INTO MAJOR
	VALUES ('70817756','73944','Political Science');
INSERT INTO MAJOR
	VALUES ('31622288','73944','Biology');
INSERT INTO MAJOR
	VALUES ('84088571','44908','Nursing');
INSERT INTO MAJOR
	VALUES ('56026134','68377','Communications');
INSERT INTO MAJOR
	VALUES ('63867378','44908','English');
INSERT INTO MAJOR
	VALUES ('75055821','10276','Economics');
INSERT INTO MAJOR
	VALUES ('30279975','61093','History');
INSERT INTO MAJOR
	VALUES ('35086469','89618','Art');
INSERT INTO MAJOR
	VALUES ('99269298','13715','Chemistry');
    
-- CHECK

SELECT * FROM MAJOR;

-- ENROLL

INSERT INTO ENROLL
	VALUES ('4522457','38992954','C');
INSERT INTO ENROLL
	VALUES ('8541208','73706075','F');
INSERT INTO ENROLL
	VALUES ('8922960','74303776','D');
INSERT INTO ENROLL
	VALUES ('8922960','47749676','A');
INSERT INTO ENROLL
	VALUES ('2058756','66107047','D');
INSERT INTO ENROLL
	VALUES ('3254257','73706075','A');
INSERT INTO ENROLL
	VALUES ('4522457','34639864','F');
INSERT INTO ENROLL
	VALUES ('2978347','34639864','F');
INSERT INTO ENROLL
	VALUES ('8541208','78780712','F');
INSERT INTO ENROLL
	VALUES ('2058756','66107047','B');
INSERT INTO ENROLL
	VALUES ('8541208','74303776','C');
INSERT INTO ENROLL
	VALUES ('9312021','95228249','A');
INSERT INTO ENROLL
	VALUES ('5279348','66102158','B');
INSERT INTO ENROLL
	VALUES ('8922960','74303776','B');
INSERT INTO ENROLL
	VALUES ('3254257','78780712','B');
INSERT INTO ENROLL
	VALUES ('8922960','66107047','F');
INSERT INTO ENROLL
	VALUES ('3254257','74303776','D');
INSERT INTO ENROLL
	VALUES ('4522457','38992954','B');
INSERT INTO ENROLL
	VALUES ('2978347','66107047','F');
INSERT INTO ENROLL
	VALUES ('2058756','73706075','D');
INSERT INTO ENROLL
	VALUES ('7368886','32139144','C');
INSERT INTO ENROLL
	VALUES ('3254257','47749676','C');
INSERT INTO ENROLL
	VALUES ('3254257','38992954','B');
INSERT INTO ENROLL
	VALUES ('5279348','38992954','A');
INSERT INTO ENROLL
	VALUES ('8541208','66107047','B');
INSERT INTO ENROLL
	VALUES ('7368886','32139144','C');
INSERT INTO ENROLL
	VALUES ('5279348','78780712','D');
INSERT INTO ENROLL
	VALUES ('3254257','95228249','C');
INSERT INTO ENROLL
	VALUES ('5279348','74303776','F');
INSERT INTO ENROLL
	VALUES ('8922960','73706075','F');
INSERT INTO ENROLL
	VALUES ('7368886','47749676','B');
INSERT INTO ENROLL
	VALUES ('4522457','34639864','C');
INSERT INTO ENROLL
	VALUES ('5279348','32139144','D');
INSERT INTO ENROLL
	VALUES ('5279348','32139144','C');
INSERT INTO ENROLL
	VALUES ('8541208','95228249','F');
INSERT INTO ENROLL
	VALUES ('8922960','47749676','D');
INSERT INTO ENROLL
	VALUES ('5279348','66107047','B');
INSERT INTO ENROLL
	VALUES ('2058756','38992954','A');
INSERT INTO ENROLL
	VALUES ('5279348','32139144','D');
INSERT INTO ENROLL
	VALUES ('5279348','66102158','A');
INSERT INTO ENROLL
	VALUES ('9312021','66107047','C');
INSERT INTO ENROLL
	VALUES ('4522457','74303776','D');
INSERT INTO ENROLL
	VALUES ('7368886','95228249','F');
INSERT INTO ENROLL
	VALUES ('5279348','66107047','B');
INSERT INTO ENROLL
	VALUES ('8922960','95228249','F');
INSERT INTO ENROLL
	VALUES ('3254257','34639864','F');
INSERT INTO ENROLL
	VALUES ('3254257','32139144','D');
INSERT INTO ENROLL
	VALUES ('7368886','66102158','D');
INSERT INTO ENROLL
	VALUES ('5279348','95228249','C');
INSERT INTO ENROLL
	VALUES ('8541208','32139144','B');

--check
SELECT * FROM ENROLL; -- not all my inputs were accepted because of the dual pk, but that is ok!

-- STUD_DEGREE_MAJOR

INSERT INTO STUDENT_DEG_MAJOR
	VALUES('2978347','11564266','30279975','1-oct-19');
INSERT INTO STUDENT_DEG_MAJOR
	VALUES('2058756','14855520','31622288','4-sep-10');
INSERT INTO STUDENT_DEG_MAJOR
	VALUES('8922960','11564266','63867378','5-sep-18');
INSERT INTO STUDENT_DEG_MAJOR
	VALUES('5279348','11564266','56026134','7-oct-18');
INSERT INTO STUDENT_DEG_MAJOR
	VALUES('8541208','14855520','30279975','9-feb-17');
INSERT INTO STUDENT_DEG_MAJOR
	VALUES('8922960','38048866','56026134','11-feb-19');
INSERT INTO STUDENT_DEG_MAJOR
	VALUES('5279348','11564266','30279975','11-feb-19');
INSERT INTO STUDENT_DEG_MAJOR
	VALUES('8922960','79969969','84088571','3-nov-16');
INSERT INTO STUDENT_DEG_MAJOR
	VALUES('7368886','11564266','26760720','19-may-15');
INSERT INTO STUDENT_DEG_MAJOR
	VALUES('7368886','79969969','84088571','12-jan-14');
INSERT INTO STUDENT_DEG_MAJOR
	VALUES('8541208','38048866','63867378','17-aug-19');
INSERT INTO STUDENT_DEG_MAJOR
	VALUES('8541208','14855520','13117093','17-nov-17');
INSERT INTO STUDENT_DEG_MAJOR
	VALUES('2058756','14855520','21873423','19-jan-16');
INSERT INTO STUDENT_DEG_MAJOR
	VALUES('2058756','79969969','13117093','9-feb-17');
INSERT INTO STUDENT_DEG_MAJOR
	VALUES('8541208','14855520','12623891','19-jan-15');

-- check

SELECT * FROM STUDENT_DEG_MAJOR;

-- I want to check that all tables have values now

SELECT * FROM BUILDING;
SELECT * FROM CLASSES;
SELECT * FROM COURSE;
SELECT * FROM DEGREES;
SELECT * FROM DEPARTMENT;
SELECT * FROM ENROLL;
SELECT * FROM INSTRUCTOR;
SELECT * FROM ROOM;
SELECT * FROM MAJOR;
SELECT * FROM STUDENT;
SELECT * FROM SEMESTER;
SELECT * FROM STUDENT_DEG_MAJOR;

--all tables have values. great! I need to fix the semester table and add a date.

UPDATE SEMESTER
SET SEMESTER_START_DATE = '26-may-13'
WHERE SEMESTER_ID = '87016831';
UPDATE SEMESTER
SET SEMESTER_START_DATE = '24-dec-16'
WHERE SEMESTER_ID = '20813867';
UPDATE SEMESTER
SET SEMESTER_START_DATE = '18-aug-18'
WHERE SEMESTER_ID = '75100245';
UPDATE SEMESTER
SET SEMESTER_START_DATE = '22-dec-11'
WHERE SEMESTER_ID = '45114241';
UPDATE SEMESTER
SET SEMESTER_START_DATE = '7-dec-19'
WHERE SEMESTER_ID = '14942265';
UPDATE SEMESTER
SET SEMESTER_START_DATE = '18-jan-21'
WHERE SEMESTER_ID = '10060628';
UPDATE SEMESTER
SET SEMESTER_START_DATE = '26-aug-21'
WHERE SEMESTER_ID = '29539150';
UPDATE SEMESTER
SET SEMESTER_START_DATE = '9-jan-20'
WHERE SEMESTER_ID = '98962001';
UPDATE SEMESTER
SET SEMESTER_START_DATE = '26-dec-19'
WHERE SEMESTER_ID = '88716606';
UPDATE SEMESTER
SET SEMESTER_START_DATE = '22-may-11'
WHERE SEMESTER_ID = '73116457';
UPDATE SEMESTER
SET SEMESTER_START_DATE = '28-aug-16'
WHERE SEMESTER_ID = '60084737';
UPDATE SEMESTER
SET SEMESTER_START_DATE = '11-may-11'
WHERE SEMESTER_ID = '52867218';
UPDATE SEMESTER
SET SEMESTER_START_DATE = '12-may-16'
WHERE SEMESTER_ID = '12937999';
UPDATE SEMESTER
SET SEMESTER_START_DATE = '26-jan-14'
WHERE SEMESTER_ID = '46600917';
UPDATE SEMESTER
SET SEMESTER_START_DATE = '15-aug-21'
WHERE SEMESTER_ID = '75611164';

-- CHECK

-- Now we query the database

-- student that uses cabrini email
SELECT STUD_FNAME, STUD_LNAME
FROM STUDENT
WHERE STUD_EMAIL LIKE '%cabrini.edu'; 

-- majors offered by department
SELECT DEPT_NAME, MAJOR_NAME
FROM DEPARTMENT D INNER JOIN MAJOR M 
ON D.DEPT_ID = M.DEPT_ID
ORDER BY D.DEPT_NAME, M.MAJOR_NAME ASC;

-- the major of the youngest student
SELECT STUD_FNAME, STUD_LNAME, ROUND((SYSDATE - STUD_DOB)/365) AS AGE, MAJOR_NAME
FROM STUDENT S INNER JOIN STUDENT_DEG_MAJOR SDM USING(STUD_ID)
INNER JOIN MAJOR M USING (MAJOR_ID)
WHERE S.STUD_DOB = (SELECT MAX(STUD_DOB)
FROM STUDENT)
ORDER BY M.MAJOR_NAME ASC;

-- number of classes each instructor is teaching
SELECT INST_FNAME "FIRST NAME", INST_LNAME "LAST NAME", COUNT(CLASS_ID) "NUMBER OF CLASSES"
FROM INSTRUCTOR I INNER JOIN CLASSES C USING (INST_ID)
GROUP BY C.CLASS_ID, I.INST_FNAME, I.INST_LNAME, INST_FNAME, INST_LNAME
ORDER BY I.INST_FNAME;

-- highest paid instructor and the department they are in
SELECT INST_FNAME, INST_LNAME, INST_SALARY, DEPT_NAME
FROM INSTRUCTOR I INNER JOIN DEPARTMENT USING (DEPT_ID)
WHERE I.INST_SALARY = (SELECT MAX(INST_SALARY) FROM INSTRUCTOR);

-- departments and their heads

SELECT DEPT_NAME, (INST_FNAME || ' ' || INST_LNAME) AS "DEPARTMENT HEAD"
FROM DEPARTMENT D INNER JOIN INSTRUCTOR USING(INST_ID)
ORDER BY D.DEPT_NAME;

-- course names and the semester/year they are offered.
SELECT SEMESTER_NAME, EXTRACT(YEAR FROM SEMESTER_START_DATE) AS YEAR, COURSE_NAME
FROM COURSE CO INNER JOIN CLASSES CL USING (COURSE_ID)
INNER JOIN SEMESTER S USING (SEMESTER_ID)
ORDER BY 2, S.SEMESTER_NAME, CO.COURSE_NAME ASC;

-- students failing, the instructor that is teaching, and the classes they are enrolled in

SELECT (STUD_FNAME || ' ' || STUD_LNAME) AS "STUDENT NAME", (INST_FNAME || ' ' || INST_LNAME) AS "INSTRUCTOR NAME", COURSE_NAME, STUD_GRADE
FROM STUDENT S INNER JOIN ENROLL E USING (STUD_ID)
INNER JOIN CLASSES CL USING (CLASS_ID)
INNER JOIN COURSE CO USING (COURSE_ID)
INNER JOIN INSTRUCTOR INST USING(INST_ID)
WHERE E.STUD_GRADE = 'F'
ORDER BY 1,2,3;